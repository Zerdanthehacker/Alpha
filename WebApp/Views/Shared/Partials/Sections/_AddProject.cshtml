@model Business.Models.AddProjectForm

<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" />
<link rel="stylesheet" href="~/css/AddProject.css" />

<div id="addProjectModal" class="modal">
    <div class="modal-overlay" data-close="true"></div>

    <div class="modal-content form-container">
        <div class="modal-header">
            <h1 class="title">Add Project</h1>
            <i class="fa-solid fa-xmark" data-close="true"></i>
        </div>

        <img class="img" src="~/images/ProjectImage.svg" alt="Add Project" />

        <form asp-action="AddProject" asp-controller="Projects" method="post" id="addProjectForm">

            <div class="form-inner">

                <label asp-for="ProjectName"></label>
                <input asp-for="ProjectName" id="projectNameInput" />
                <span asp-validation-for="ProjectName" class="text-danger"></span>

                <label asp-for="ClientName"></label>
                <input asp-for="ClientName" id="clientNameInput" />
                <span asp-validation-for="ClientName" class="text-danger"></span>

                <label asp-for="Description"></label>
                <div class="quill-container">
                    <div id="editor"></div>
                    <input type="hidden" asp-for="Description" id="hidden-description" />
                </div>
                <span asp-validation-for="Description" class="text-danger"></span>

                <div class="date-row">
                    <div class="date-group">
                        <label asp-for="StartDate"></label>
                        <input asp-for="StartDate" type="date" />
                        <span asp-validation-for="StartDate" class="text-danger"></span>
                    </div>
                    <div class="date-group">
                        <label asp-for="EndDate"></label>
                        <input asp-for="EndDate" type="date" />
                        <span asp-validation-for="EndDate" class="text-danger"></span>
                    </div>
                </div>

                <label asp-for="Budget"><i class="fas fa-dollar-sign"></i> Budget</label>
                <input asp-for="Budget" />
                <span asp-validation-for="Budget" class="text-danger"></span>

                <button type="submit" class="create-btn">Create Project</button>
            </div>
        </form>
    </div>
</div>

<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
<script>
    const quill = new Quill('#editor', {
        theme: 'snow',
        placeholder: 'Type something...'
    });

    document.getElementById('addProjectForm').addEventListener('submit', function (e) {
        document.getElementById('hidden-description').value = quill.root.innerHTML;
    });

    document.addEventListener('click', function (e) {
        if (e.target.matches('[data-close]')) {
            document.getElementById('addProjectModal').style.display = 'none';
        }
    });
</script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
